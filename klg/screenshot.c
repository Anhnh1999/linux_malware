#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <unistd.h>
#include <signal.h>

int loop = 1;

void sigint_handler(int sig){
    loop = 0;
}


//https://askubuntu.com/questions/194427/what-is-the-terminal-command-to-take-a-screenshot
char* assign_str(char* tstr)
{
	char *temp =  (char *)calloc(strlen(tstr), 1);
	temp = tstr;
	return temp;
}	




void takeScreenshot()
{

	char *tmp0 = assign_str("scrot -b");
	char *tmp1 = assign_str("-e");
	char *tmp2 = assign_str("mv $f /home/nha/Desktop/klg/socodinsot.png");

	char comm[100] = "";
	sprintf(comm, "%s %s '%s'", tmp0, tmp1, tmp2);
	system(comm);

}


int main()
{
	signal(SIGINT, sigint_handler);
	while(loop)
	{
		takeScreenshot();
		sleep(900);
	}


	return 0;
}